<!DOCTYPE html>
<html><body>
<video id="video" autoplay playsinline style="display:none;"></video>
<div id="status">初期化中…</div>
<script src="...face_mesh.js"></script>
<script src="...camera_utils.js"></script>
<script>
const video = document.getElementById('video');
const status = document.getElementById('status');
const faceMesh = new FaceMesh({locateFile: f => `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${f}`});
faceMesh.setOptions({maxNumFaces:1,refineLandmarks:false,minDetectionConfidence:0.5,minTrackingConfidence:0.5});
faceMesh.onResults(results => {
  if (!results.multiFaceLandmarks) return;
  const lm = results.multiFaceLandmarks[0];
  const noseZ = lm[1].z;
  const leftCheek = lm[234], rightCheek = lm[454];
  const faceWidth = Math.abs(leftCheek.x - rightCheek.x);
  if (noseZ < -0.15 && faceWidth > 0.35) status.textContent = '顔が近すぎます';
  else status.textContent = '通常位置';
});
new Camera(video,{onFrame:()=>faceMesh.send({image:video}),width:640,height:480}).start();
</script>
</body></html>
